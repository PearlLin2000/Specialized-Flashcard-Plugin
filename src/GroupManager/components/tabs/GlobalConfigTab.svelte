<script lang="ts">
  export let postponeDays: number;
  export let postponeEnabled: boolean;
  export let priorityScanEnabled: boolean;
  export let priorityScanInterval: number;
  export let cacheUpdateInterval: number;
</script>

<div class="global-config">
  
  <!-- åŒºå—1: è‡ªåŠ¨æ¨è¿Ÿé…ç½® -->
  <div class="config-section">
    <div class="section-description">
      è‡ªåŠ¨æ¨è¿Ÿä»Šæ—¥åˆ›å»ºçš„é—ªå¡ï¼ˆä»¥é¿å…è¿‡å¤šæ–°å¡ç‰‡å¹²æ‰°å¤ä¹ ï¼‰
    </div>
    
    <div class="form-field">
      <label class="toggle-label">
        <input type="checkbox" bind:checked={postponeEnabled}>
        <span class="toggle-text">ğŸ…å¯ç”¨è‡ªåŠ¨æ¨è¿Ÿ</span>
      </label>
    </div>

    <div class="section-description">
      æ¨è¿Ÿå¤©æ•°ï¼ˆ0-30å¤©ï¼Œ0ä¸ºä¸å¯ç”¨ï¼‰
    </div>
    
    <div class="form-field">
      <label class="field-label" for="postpone-days-input">è‡ªåŠ¨æ¨è¿Ÿå¤©æ•°</label>
      <input 
        id="postpone-days-input"
        class="field-input"
        type="number" 
        bind:value={postponeDays}
        placeholder="2"
        min="1"
        max="30"
        disabled={!postponeEnabled}
      />
    </div>
  </div>
  
  <!-- åŒºå—2: è‡ªåŠ¨ä¼˜å…ˆçº§é…ç½® -->
  <div class="config-section">
    <div class="section-description">
      ä¸ºã€ä»Šæ—¥åˆ›å»ºã€‘ã€ã€ä½äºæŒ‡å®šåˆ†ç»„ã€‘çš„é—ªå¡è‡ªåŠ¨è®¾ç½®ã€æŒ‡å®šã€‘ä¼˜å…ˆçº§ã€‚
    </div>
    
    <div class="form-field">
      <label class="toggle-label">
        <input type="checkbox" bind:checked={priorityScanEnabled}>
        <span class="toggle-text">ğŸ…å¯ç”¨è‡ªåŠ¨ä¼˜å…ˆçº§æ‰«æ</span>
      </label>
    </div>

    <div class="section-description">
      åå°æ‰«æé—´éš”æ—¶é•¿ï¼ˆå¯é…ç½®èŒƒå›´ï¼š5-120åˆ†é’Ÿï¼‰ã€‚
    </div>
    
    <div class="form-field">
      <label class="field-label" for="priority-scan-interval-input">ä¼˜å…ˆçº§æ‰«æé—´éš”(åˆ†é’Ÿ)</label>
      <input 
        id="priority-scan-interval-input"
        class="field-input"
        type="number" 
        bind:value={priorityScanInterval}
        placeholder="15"
        min="5"
        max="120"
        disabled={!priorityScanEnabled}
      />
    </div>
  </div>
  
  <!-- åŒºå—3: SQLç¼“å­˜é…ç½® -->
  <div class="config-section">
    <div class="section-description-group">
      <div class="description-line">
        SQLæ‰€æŸ¥è¯¢çš„ç¼“å­˜æ•°æ®ä¿å­˜æ—¶é—´ï¼ˆå¯é…ç½®5-240åˆ†é’Ÿï¼‰ã€‚
        è¶ŠçŸ­ï¼Œåˆ™æ‰“å¼€é—ªå¡åˆ†ç»„ç•Œé¢æ‰€æ˜¾ç¤ºçš„é—ªå¡è¶Šâ€œæ–°â€ï¼Œä½†ä¹Ÿè¶Šå¯èƒ½å½±å“æ€æºçš„ä½¿ç”¨æ€§èƒ½ã€‚
      </div>
      <div class="description-line">ä¸€è¨€ä»¥è”½ä¹‹ï¼šæ²¡æƒ³æ³•ï¼Œç”¨é»˜è®¤çš„30åˆ†é’Ÿã€‚è§‰å¾—æ€æºå¡ï¼ŒæŠŠè¿™ä¸ªæ•°å­—è°ƒå¤§ï¼›è§‰å¾—è¯¥æœ‰çš„å¡ç‰‡æ²¡å‡ºç°ï¼ŒæŠŠè¿™ä¸ªæ•°å­—è°ƒå°ã€‚</div>
    </div>
    
    <div class="form-field">
      <label class="field-label" for="cache-update-interval-input">SQLç¼“å­˜æ›´æ–°é—´éš”(åˆ†é’Ÿ)</label>
      <input 
        id="cache-update-interval-input"
        class="field-input"
        type="number" 
        bind:value={cacheUpdateInterval}
        placeholder="30"
        min="5"
        max="240"
      />
    </div>
  </div>
  
</div>

<style>
  .global-config {
    height: 100%;
    display: flex;
    flex-direction: column;
    width: 100%;
  }

  
  .config-section {
    background: var(--b3-theme-surface);
    border: 1px solid var(--b3-theme-on-background);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
    width: 80%;
  }
  
  .section-description {
    font-size: 13px;
    color: var(--b3-theme-on-surface-light);
    margin-bottom: 12px;
    line-height: 1;
  }
  
  .section-description-group {
    margin-bottom: 12px;
  }
  
  .description-line {
    font-size: 13px;
    color: var(--b3-theme-on-surface-light);
    line-height: 1.4;
    margin-bottom: 4px;
  }
  
  .description-line:last-child {
    margin-bottom: 0;
  }
  
  .form-field {
    display: flex;
    flex-direction: column;
    margin-bottom: 16px;
  }
  
  .form-field:last-child {
    margin-bottom: 0;
  }
  
  .field-label {
    font-weight: 600;
    margin-bottom: 4px;
    color: var(--b3-theme-on-background);
    font-size: 14px;
  }
  
  .field-input {
    padding: 8px 10px;
    border: 1px solid var(--b3-theme-surface-light);
    border-radius: 4px;
    font-size: 14px;
    background: var(--b3-theme-surface);
    color: var(--b3-theme-on-surface);
    width: 100%;
  }
  
  .field-input:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
  
  .toggle-label {
    display: flex;
    align-items: center;
    gap: 6px;
    white-space: nowrap;
    margin-bottom: 4px;
  }
  
  .toggle-text {
    font-size: 14px;
    color: var(--b3-theme-on-surface);
  }
  
</style>
